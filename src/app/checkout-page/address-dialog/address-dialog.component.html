<h2 mat-dialog-title>Enter your address details</h2>
<mat-dialog-content>      
    <mat-stepper linear #stepper>
        <mat-step [stepControl]="firstFormGroup" [editable]="isEditable">
          <form [formGroup]="firstFormGroup">
            <ng-template matStepLabel>Country</ng-template>
            <mat-form-field>
              <mat-label>Country</mat-label>
              <mat-select formControlName="country" (selectionChange)="onSelect('country', $event.value)">
                <mat-option *ngFor="let country of countries" [value]="country">
                  {{ country }}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <button mat-button matStepperNext [disabled]="firstFormGroup.invalid">Next</button>
          </form>
        </mat-step>
      
        <mat-step [stepControl]="secondFormGroup" [editable]="isEditable">
          <form [formGroup]="secondFormGroup">
            <ng-template matStepLabel>State</ng-template>
            <mat-form-field>
              <mat-label>State</mat-label>
              <mat-select formControlName="state" (selectionChange)="onSelect('state', $event.value)" [disabled]="!selectedCountry">
                <mat-option *ngFor="let state of states" [value]="state">
                  {{ state }}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <button mat-button matStepperPrevious>Back</button> <!-- Back Button -->
            <button mat-button matStepperNext [disabled]="secondFormGroup.invalid || !selectedCountry">Next</button>
          </form>
        </mat-step>
      
        <mat-step [stepControl]="thirdFormGroup" [editable]="isEditable" *ngIf="selectedState">
          <form [formGroup]="thirdFormGroup">
            <ng-template matStepLabel>City</ng-template>
            <mat-form-field>
              <mat-label>City</mat-label>
              <mat-select formControlName="city" (selectionChange)="onSelect('city', $event.value)" [disabled]="!selectedState">
                <mat-option *ngFor="let city of cities" [value]="city">
                  {{ city }}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <button mat-button matStepperPrevious>Back</button> <!-- Back Button -->
            <button mat-button matStepperNext [disabled]="thirdFormGroup.invalid || !selectedState">Next</button>
          </form>
        </mat-step>
      
        <mat-step [stepControl]="fourthFormGroup" [editable]="isEditable" *ngIf="selectedCity">
          <form [formGroup]="fourthFormGroup">
            <ng-template matStepLabel>Pincode</ng-template>
            <mat-form-field>
              <mat-label>Pincode</mat-label>
              <mat-select formControlName="pincode" (selectionChange)="onSelect('taluka', $event.value)" [disabled]="!selectedCity">
                <mat-option *ngFor="let pincode of pincodes" [value]="pincode">
                  {{ pincode }}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <button mat-button matStepperPrevious>Back</button>
        <button mat-button matStepperNext [disabled]="fourthFormGroup.invalid">Next</button>
      </form>
    </mat-step>

    <!-- Step 5: Additional Address Details -->
    <mat-step [stepControl]="fifthFormGroup" [editable]="isEditable">
      <form [formGroup]="fifthFormGroup" class="steps-display">
        <ng-template matStepLabel>Additional Details</ng-template>

        <mat-form-field appearance="fill">
          <mat-label>Address Type</mat-label>
          <input matInput formControlName="addressType" placeholder="e.g., Home or Office" required />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Primary Contact Number</mat-label>
          <input matInput type="tel" formControlName="contactNumber1" placeholder="Enter primary contact number" required />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Secondary Contact Number</mat-label>
          <input matInput type="tel" formControlName="contactNumber2" placeholder="Enter secondary contact number" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>House Details</mat-label>
          <input matInput formControlName="houseDetails" placeholder="e.g., Flat number, building name" required />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Address Line</mat-label>
          <input matInput formControlName="addressLine" placeholder="e.g., Street name, locality" required />
        </mat-form-field>

        <button mat-button matStepperPrevious>Back</button>
        <button mat-button (click)="onSubmit()" [disabled]="fifthFormGroup.invalid">Add Address</button>
      </form>
    </mat-step>
  </mat-stepper>
</mat-dialog-content>
<mat-dialog-actions>
  <button mat-button mat-dialog-close>Cancel</button>
  <!-- <button mat-button mat-dialog-close cdkFocusInitial>Add Address</button> -->
</mat-dialog-actions>
